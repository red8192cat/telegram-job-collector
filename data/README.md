# Data Directory

This directory contains all runtime data for the Telegram Job Collector Bot.

## Structure

```
data/
├── README.md                    # This file
├── config/                      # Configuration files
│   ├── bot-secrets.env.example      # Template for credentials (COPY TO bot-secrets.env)
│   ├── bot-secrets.env          # Your actual credentials (NOT in git)
│   ├── channels.json.example    # Example channel configuration
│   ├── channels.json           # Actual channel config (auto-generated, NOT in git)
│   ├── users.json.example      # Example user data format
│   ├── users.json              # Actual user data (auto-generated, NOT in git)
│   └── backups/                # Backup storage
│       └── .gitkeep           # Keeps directory in git
├── bot.db                      # SQLite database (NOT in git)
└── *.session                   # Telethon session files (NOT in git)
```

## Setup for New Deployment

1. **Copy template to actual config:**
   ```bash
   cp data/config/bot-secrets.env.example data/config/bot-secrets.env
   ```

2. **Edit your credentials:**
   ```bash
   nano data/config/bot-secrets.env
   ```
   Add your bot token from @BotFather and optionally your admin user ID.

3. **Start the bot:**
   ```bash
   docker-compose up -d
   ```

4. **The bot will automatically:**
   - Create `bot.db` database
   - Generate `channels.json` and `users.json` from database
   - Start monitoring and collecting jobs

## Important Notes

- **channels.json** and **users.json** are auto-generated by the bot
- **Do NOT manually edit** these files - use admin commands instead
- **Examples are for reference only** - the bot creates real files from database

## Migration/Backup

- **Export data:** `/admin export` (updates the JSON files)
- **Import data:** `/admin import` (loads from JSON files to database)
- **Manual backup:** `/admin backup_manual`
- **List backups:** `/admin list_backups`

## Security

- Only template/example files are tracked in git
- All real data files are excluded from git for security
- The bot auto-generates config files from the database
